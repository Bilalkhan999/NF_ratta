{% extends "inventory_base.html" %}

{% block inventory_content %}
  <div class="d-flex align-items-center justify-content-between mb-3">
    <div>
      <h3 class="mb-0">Dashboard</h3>
      <div class="text-muted">Inventory overview</div>
    </div>
    <div class="d-flex gap-2">
      <a class="btn btn-outline-primary" href="/inventory/furniture">Furniture</a>
      <a class="btn btn-outline-primary" href="/inventory/foam">Foam</a>
    </div>
  </div>

  <div class="row g-3">
    <div class="col-12 col-md-3">
      <div class="card h-100">
        <div class="card-body">
          <div class="text-muted">Total Furniture</div>
          <div class="fs-2 fw-bold">{{ stats.total_furniture }}</div>
          <div class="text-muted">Items in inventory</div>
        </div>
      </div>
    </div>
    <div class="col-12 col-md-3">
      <div class="card h-100">
        <div class="card-body">
          <div class="text-muted">Total Foam</div>
          <div class="fs-2 fw-bold">{{ stats.total_foam }}</div>
          <div class="text-muted">Foam pieces available</div>
        </div>
      </div>
    </div>
    <div class="col-12 col-md-3">
      <div class="card h-100">
        <div class="card-body">
          <div class="text-muted">Low Stock</div>
          <div class="fs-2 fw-bold">{{ stats.low_stock }}</div>
          <div class="text-muted">Items need restocking</div>
        </div>
      </div>
    </div>
    <div class="col-12 col-md-3">
      <div class="card h-100">
        <div class="card-body">
          <div class="text-muted">Out of Stock</div>
          <div class="fs-2 fw-bold">{{ stats.out_of_stock }}</div>
          <div class="text-muted">Items unavailable</div>
        </div>
      </div>
    </div>
  </div>

  <div class="row g-3 mt-0">
    <div class="col-12 col-lg-6">
      <div class="card h-100">
        <div class="card-body">
          <div class="d-flex align-items-center justify-content-between">
            <h5 class="mb-0">Inventory Value</h5>
          </div>
          <div class="mt-3">
            <div class="display-6 fw-bold text-success">Rs. {{ stats.total_inventory_value }}</div>
            <div class="text-muted">Total selling value of all items</div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-12 col-lg-6">
      <div class="card h-100">
        <div class="card-body">
          <h5 class="mb-3">Quick Stats</h5>
          <div class="d-flex align-items-center justify-content-between border rounded-3 p-3 mb-2">
            <div>
              <div class="fw-bold">Total Items</div>
              <div class="text-muted">All inventory</div>
            </div>
            <div class="fs-4 fw-bold">{{ stats.total_items }}</div>
          </div>
          <div class="d-flex align-items-center justify-content-between border rounded-3 p-3">
            <div>
              <div class="fw-bold">Stock Health</div>
              <div class="text-muted">Items in stock</div>
            </div>
            <div class="fs-4 fw-bold text-success">{{ stats.stock_health_pct }}%</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="card mt-3">
    <div class="card-body">
      <div class="d-flex align-items-center justify-content-between">
        <div>
          <h5 class="mb-1">Quick Actions</h5>
          <div class="text-muted">Add items and keep stock updated</div>
        </div>
        <div class="d-flex gap-2">
          <a class="btn btn-primary" href="/inventory/furniture">Add Furniture</a>
          <a class="btn btn-primary" href="/inventory/foam">Add Foam</a>
          <a class="btn btn-outline-danger" href="/inventory/low-stock">View Low Stock</a>
        </div>
      </div>
    </div>
  </div>

  <div class="card mt-3">
    <div class="card-body">
      <div class="d-flex align-items-center justify-content-between">
        <div>
          <div class="fw-bold">Setup</div>
          <div class="text-muted">Run once to create tables + seed sizes/brands</div>
        </div>
        <a class="btn btn-outline-secondary" href="/admin/inventory/init">Admin: Init Inventory</a>
      </div>
    </div>
  </div>
{% endblock %}
